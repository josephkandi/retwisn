extends layout/post_layout

block post_content
  ul.nav.nav-tabs
    li.active
      a(href="#timeline", data-toggle="tab") Timeline
    li
      a(href="#global", data-toggle="tab") Global
    li
      a(href="#posts", data-toggle="tab") My Posts
    li
      a(href="#followers", data-toggle="tab") Followed By
    li
      a(href="#following", data-toggle="tab") Following
  .tab-content(ng-init="username='#{session.username}'")
    .tab-pane.active#timeline(ng-controller="TimelineController")
      ul.list-group
        li.list-group-item(ng-repeat="post in posts")
          .postBox.row
            .col-md-12
              span {{post.message}}
          .postBox.row
            .col-md-2
              span
                a(href="#", ng-click="showUser(post.user)") {{post.user}}
            .col-md-4.col-md-offset-6
              span {{post.date | date}}
    .tab-pane#global(ng-controller="GlobalTimelineController")
      ul.list-group
        li.list-group-item(ng-repeat="post in posts")
          .postBox.row
            .col-md-12
              span {{post.message}}
          .postBox.row
            .col-md-2
              a(href="#", ng-click="showUser(post.user)") {{post.user}}
            .col-md-4.col-md-offset-6
              span {{post.date | date}}
    .tab-pane#posts(ng-controller="UserPostsController")
      ul.list-group
        li.list-group-item(ng-repeat="post in posts")
          .postBox.row
            .col-md-12
              span {{post.message}}
          .postBox.row
            .col-md-2
              a(href="#", ng-click="showUser(post.user)") {{post.user}}
            .col-md-4.col-md-offset-6
              span {{post.date | date}}
    .tab-pane#followers(ng-controller="FollowController")
      ul.list-group
        li.list-group-item(ng-repeat="follower in followers")
          .postBox.row
            .col-md-2
              a(href="#", ng-click="showUser(follower)") {{follower}}
    .tab-pane#following(ng-controller="FollowController")
      ul.list-group
        li.list-group-item(ng-repeat="following in followings")
          .postBox.row
            .col-md-2
              a(href="#", ng-click="showUser(following)") {{following}}